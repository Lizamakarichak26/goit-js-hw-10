{"mappings":"YAIA,SAASA,EAAQC,GACf,OAAO,SAAUC,GACf,OAAO,IAAIC,SAAQ,SAAAC,G,OAAWC,YAAW,W,OAAMD,EAAQF,E,GAAID,E,KAc/D,IAAIK,EAAe,GACfC,EAAcC,SAASC,eAAe,gBACtCC,EAASF,SAASC,eAAe,UACjCE,EAAQH,SAASC,eAAe,SAChCG,EAAeJ,SAASC,eAAe,YA0B3C,SAASI,IACPH,EAAOI,MAAMC,QAAU,QACvBH,EAAaE,MAAMC,QAAU,OAC7B,IAAIC,EAAQT,EAAYU,eAvC1B,SAAyBC,GACvB,OAAOC,MAAM,GAAqBC,OAdvB,6CAcU,eAAqBA,OAARF,IAAWG,MAAK,SAAAC,GAChD,OAAOA,EAASC,M,KAuClBC,CADclB,EAAaU,GAAOS,IAE/BJ,KAAKrB,EAAQ,MACbqB,MAAK,SAAAK,GACJ,IAAIC,EAAOD,EAAK,GAChBlB,SAASC,eAAe,eAAemB,IAAMD,EAAKE,IAClD,IAAIC,EAAUxB,EAAaU,GAC3BR,SAASC,eAAe,cAAcsB,YAAcD,EAAQE,KAC5DxB,SAASC,eAAe,qBAAqBsB,YAAcD,EAAQG,YACnEzB,SAASC,eAAe,qBAAqBsB,YAAcD,EAAQI,YACnExB,EAAOI,MAAMC,QAAU,OACvBH,EAAaE,MAAMC,QAAU,O,IAE9BoB,MAAMC,E,CAEX,SAASA,IACPzB,EAAMG,MAAMC,QAAU,QACtBL,EAAOI,MAAMC,QAAU,OACvBH,EAAaE,MAAMC,QAAU,M,CA/C/BR,EAAY8B,iBAAiB,SAAUxB,GACvCN,EAAYO,MAAMC,QAAU,OAC5BL,EAAOI,MAAMC,QAAU,QACvBH,EAAaE,MAAMC,QAAU,OAlBpBI,MAAM,GAAkBC,OAVrB,sCAUU,aAAmBA,OAPvC,0EAO0CC,MAAK,SAAAC,GAC7C,OAAOA,EAASC,M,IAmBjBF,KAAKrB,EAAQ,MACbqB,MAAK,SAAAK,GAEJA,EAAOA,EAAKY,QAAO,SAAAC,G,IAAOC,EAAA,OAAkB,OAAT,QAATA,EAAAD,EAAIE,aAAK,IAATD,OAAA,EAAAA,EAAWX,I,IACrCvB,EAAeoB,EACf,IAAK,IAAIgB,EAAI,EAAGA,EAAIpC,EAAaqC,OAAQD,IAAK,CAC5C,IAAME,EAAQtC,EAAaoC,GACvBG,EAASrC,SAASsC,cAAc,UAE/BF,EAAMH,QAEXI,EAAOE,MAAQL,EACfG,EAAOG,UAAY,GAAc5B,OAAXwB,EAAMZ,MAC5BxB,SAASC,eAAe,gBAAgBwC,YAAYJ,G,CAEtDtC,EAAYO,MAAMC,QAAU,eAC5BL,EAAOI,MAAMC,QAAU,OACvBF,G,IAEDsB,MAAMC,E","sources":["src/index.js"],"sourcesContent":["const url = 'https://api.thecatapi.com/v1/breeds';\nconst url2 = 'https://api.thecatapi.com/v1/images/search';\nconst api_key =\n  'live_ATkDsnwAvU937nPda3qiR2ikVv7ea9Bi3sQ0ez5BCTcp5A1d1bJkzyvl3CMZEOEb';\nfunction sleeper(ms) {\n  return function (x) {\n    return new Promise(resolve => setTimeout(() => resolve(x), ms));\n  };\n}\nfunction fetchBreeds() {\n  return fetch(`${url}?api_key=${api_key}`).then(response => {\n    return response.json();\n  });\n}\nfunction fetchCatByBreed(breedId) {\n  return fetch(`${url2}?breed_ids=${breedId}`).then(response => {\n    return response.json();\n  });\n}\nexport { fetchBreeds, fetchCatByBreed };\nlet storedBreeds = [];\nlet breedSelect = document.getElementById('breed-select')\nlet loader = document.getElementById('loader')\nlet error = document.getElementById('error')\nlet catInfoBlock = document.getElementById('cat-info')\nbreedSelect.addEventListener('change', showBreedImage);\nbreedSelect.style.display = \"none\"\nloader.style.display = \"block\"\ncatInfoBlock.style.display = 'none'\nfetchBreeds()\n  .then(sleeper(2000))\n  .then(data => {\n    //filter to only include those with an `image` object\n    data = data.filter(img => img.image?.url != null);\n    storedBreeds = data;\n    for (let i = 0; i < storedBreeds.length; i++) {\n      const breed = storedBreeds[i];\n      let option = document.createElement('option');\n      //skip any breeds that don't have an image\n      if (!breed.image) continue;\n      //use the current array index\n      option.value = i;\n      option.innerHTML = `${breed.name}`;\n      document.getElementById('breed-select').appendChild(option);\n    }\n    breedSelect.style.display = \"inline-block\"\n    loader.style.display = \"none\"\n    showBreedImage()\n  })\n  .catch(showError);\nfunction showBreedImage() {\n  loader.style.display = \"block\"\n  catInfoBlock.style.display = 'none'\n  let index = breedSelect.selectedIndex;\n  let breedId = storedBreeds[index].id;\n  fetchCatByBreed(breedId)\n    .then(sleeper(2000))\n    .then(data => {\n      let item = data[0]\n      document.getElementById('breed_image').src = item.url;\n      let catItem = storedBreeds[index]\n      document.getElementById('bread_name').textContent = catItem.name;\n      document.getElementById('bread_description').textContent = catItem.description;\n      document.getElementById('bread_temperament').textContent = catItem.temperament;\n      loader.style.display = \"none\"\n      catInfoBlock.style.display = 'block'\n    })\n    .catch(showError);\n}\nfunction showError() {\n  error.style.display = \"block\"\n  loader.style.display = \"none\"\n  catInfoBlock.style.display = \"none\"\n}"],"names":["$b8f9b7833fa37166$var$sleeper","ms","x","Promise","resolve","setTimeout","$b8f9b7833fa37166$var$storedBreeds","$b8f9b7833fa37166$var$breedSelect","document","getElementById","$b8f9b7833fa37166$var$loader","$b8f9b7833fa37166$var$error","$b8f9b7833fa37166$var$catInfoBlock","$b8f9b7833fa37166$var$showBreedImage","style","display","index","selectedIndex","breedId","fetch","concat","then","response","json","$b8f9b7833fa37166$export$57b7d3a597416aa2","id","data","item","src","url","catItem","textContent","name","description","temperament","catch","$b8f9b7833fa37166$var$showError","addEventListener","filter","img","ref","image","i","length","breed","option","createElement","value","innerHTML","appendChild"],"version":3,"file":"index.b5983050.js.map"}